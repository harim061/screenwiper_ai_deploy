import requests

# 서버 URL
url = 'http://54.147.189.153:5000/analyze_image'

# 테스트 이미지 파일 경로
# file_path = './test_img/test3.png'
image_url = 'data:image/png;base64,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.png'

# 이미지 파일 열기 및 요청 보내기
"""
with open(file_path, 'rb') as image_file:
    files = {'image': image_file}
    response = requests.post(url, files=files)
"""

# ?api 연결 후 url로 변경  

# 테스트 이미지 URL
# image_url = 'https://your-s3-bucket-url/test_img/map-test.png'

# 요청 보내기
response = requests.post(url, data={'imageUrl': image_url})


# 응답 처리
if response.status_code == 200:
    result = response.json()
    
    # 응답의 텍스트 결과와 날짜 추출
    text_results = result.get('text_results', [])
    extracted_dates = result.get('dates', [])
    
    print("인식된 텍스트:")
    for text in text_results:
        print(text)
    
    print("\n추출된 날짜:")
    for date in extracted_dates:
        print(date)

    print("\n응답 데이터:")
    print(result)
else:
    print("Error:", response.text)
